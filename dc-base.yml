webapp:
  build: .
  environment:
    - RAILS_ENV=production
    - RACK_ENV=production
    - DUKE_DATA_SERVICE_DATABASE_DB=duke-data-service_development
    - SECRET_KEY_BASE=baa098d5e9d5247a33a58e861ff75f7e22a7c5c96027f39efd12e144f34a31423d3aacf45ab79d2c7196907161ec957cd54352b085371b65a32a0e8acf8894e6
    - SERVICE_ID=c87de9f2-1690-4523-87dc-6395f665a757
    - APIEXPLORER_ID=d492cfba-23ad-4360-a63a-e6511d8fe656
    - LOCALDEV=true
  env_file:
    - swift.env
  volumes:
    - .:/var/www/app
  ports:
    - 3001:3000
db:
  build: ./docker/builds/db
  environment:
    - POSTGRES_USER=duke-data-service
    - POSTGRES_PASSWORD=abc123
    - POSTGRES_DEV_DB=duke-data-service_development
    - POSTGRES_TEST_DB=duke-data-service_test
swiftvol:
  image: busybox
  volumes:
    - /srv
swift:
  build: ./docker/builds/swift
  ports:
    - 12345:8080
